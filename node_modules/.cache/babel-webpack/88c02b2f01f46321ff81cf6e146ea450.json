{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ActorComponent = class ActorComponent {\n  constructor(dbService) {\n    this.dbService = dbService;\n    this.fullName = \"\";\n    this.actorId = \"\";\n    this.bYear = 0;\n    this.actorsDB = [];\n    this.movieID = \"\";\n    this.title = \"\";\n    this.year = 0;\n    this.actors = [];\n    this.moviesDB = [];\n    this.section = 1;\n  }\n\n  ngOnInit() {\n    this.onGetActors();\n    this.onListMovies();\n  }\n\n  changeSection(sectionId) {\n    this.section = sectionId;\n  } // a new section to add a movie\n\n\n  onSaveMovie() {\n    let obj = {\n      title: this.title,\n      year: this.year,\n      actors: this.actors\n    };\n    this.dbService.addMovie(obj).subscribe(result => {\n      this.onListMovies();\n    });\n  } // a new section to list all the available movies\n\n\n  onListMovies() {\n    this.dbService.listAllMovies().subscribe(data => {\n      this.moviesDB = data;\n      console.log(this.moviesDB);\n    });\n  } // a new section to delete a movie by aTitle\n\n\n  onDeleteMovieTitle(item) {\n    this.dbService.deleteMovieTitle(item.title).subscribe(result => {\n      this.onListMovies();\n    });\n  } // a new section to delete all movies produced between aYear1 and aYear2\n\n\n  onDeleteMovieYear(item) {\n    this.dbService.deleteMovieTitle(item.title).subscribe(result => {\n      this.onListMovies();\n    });\n  } // a new section to add an actor to a movie\n\n\n  onSaveExistingActor() {\n    let obj = {\n      name: this.fullName,\n      bYear: this.bYear\n    };\n    this.dbService.addExistingActor(this.movieID, this.actorId, obj).subscribe(result => {\n      this.onGetActors();\n    });\n  }\n\n  onGetActors() {\n    this.dbService.getAllActors().subscribe(data => {\n      this.actorsDB = data;\n    });\n  }\n\n  onSaveActor() {\n    let obj = {\n      name: this.fullName,\n      bYear: this.bYear\n    };\n    this.dbService.createActor(obj).subscribe(result => {\n      this.onGetActors();\n    });\n  }\n\n  onSelectUpdate(item) {\n    this.fullName = item.name;\n    this.bYear = item.bYear;\n    this.actorId = item._id;\n  }\n\n  onUpdateActor() {\n    let obj = {\n      name: this.fullName,\n      bYear: this.bYear\n    };\n    this.dbService.updateActor(this.actorId, obj).subscribe(result => {\n      this.onGetActors();\n    });\n  }\n\n  onDeleteActor(item) {\n    this.dbService.deleteActor(item._id).subscribe(result => {\n      this.onGetActors();\n    });\n  }\n\n  resetValues() {\n    this.fullName = \"\";\n    this.bYear = 0;\n    this.actorId = \"\";\n  }\n\n};\nActorComponent = __decorate([Component({\n  selector: 'app-actor',\n  templateUrl: './actor.component.html',\n  styleUrls: ['./actor.component.css']\n})], ActorComponent);\nexport { ActorComponent };","map":null,"metadata":{},"sourceType":"module"}